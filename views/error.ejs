<% 
// Set layout variables
const title = 'Error - Personal AI Clone'; 
%>

<div class="container-sm">
    <div class="card" style="max-width: 500px; margin: 0 auto;">
        <div class="card-header text-center">
            <div class="text-6xl mb-4">‚ö†Ô∏è</div>
            <h1 class="card-title">Oops! Something went wrong</h1>
        </div>
        
        <div class="text-center">
            <p class="text-gray-600 mb-6">
                <%= message || 'An unexpected error occurred' %>
            </p>
            
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button onclick="history.back()" class="btn btn-secondary">
                    ‚Üê Go Back
                </button>
                <a href="/dashboard" class="btn btn-primary">
                    üè† Dashboard
                </a>
            </div>
        </div>
        
        <% if (process.env.NODE_ENV === 'development' && typeof error !== 'undefined') { %>
        <div class="mt-6 p-4 bg-gray-100 rounded-lg">
            <h3 class="text-sm font-semibold text-gray-700 mb-2">Debug Info (Development Mode)</h3>
            <pre class="text-xs text-gray-600 overflow-x-auto"><%= error.stack || error.message || 'No additional error details' %></pre>
        </div>
        <% } %>
    </div>
</div>

<script>
// Auto-redirect to dashboard after 10 seconds for certain errors
setTimeout(() => {
    if (window.location.pathname === '/error' || document.title.includes('Error')) {
        window.location.href = '/dashboard';
    }
}, 10000);
</script>